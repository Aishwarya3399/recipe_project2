import{u as k,c as b,r as t,j as e,F as R,f as w,h as C}from"./index-CM8zWmFB.js";/* empty css               */const L=()=>{const{id:n}=k(),p=b(),[i,h]=t.useState(null),[m,u]=t.useState(!0),[o,l]=t.useState(null),j="default_image_url.jpg";t.useEffect(()=>{(async()=>{try{const r=await fetch(`http://localhost:5000/api/recipe/${n}`),a=await r.json();r.ok?h(a.data):l(a.message||"Failed to fetch recipe details.")}catch{l("An error occurred while fetching recipe details.")}finally{u(!1)}})()},[n]);const x=async s=>{try{const r=await fetch(`http://localhost:5000/api/recipe?name=${encodeURIComponent(s)}`),a=await r.json();if(r.ok&&a.data.length>0){const c=a.data.find(N=>N.RecipeName===s);c?p(`/recipe/${c._id}`):alert("Recipe not found!")}else alert("No recipes found!")}catch(r){console.error("Error fetching recipe by name:",r),alert("Error retrieving the recipe.")}},g=()=>{window.print()},f=()=>{const s=JSON.stringify(i),r=new Blob([s],{type:"application/json"}),a=URL.createObjectURL(r),c=document.createElement("a");c.href=a,c.download=`${i.RecipeName}.json`,c.click(),URL.revokeObjectURL(a)},v=async()=>{const s={title:i.RecipeName,text:`Check out this recipe: ${i.RecipeName}`,url:window.location.href};try{navigator.share?await navigator.share(s):(navigator.clipboard.writeText(window.location.href),alert("Recipe link copied to clipboard!"))}catch(r){console.error("Error sharing recipe:",r)}};if(m)return e.jsx("div",{className:"loading",children:"Loading..."});if(o)return e.jsx("div",{className:"error",children:o});const d=i.RecipeLinks?i.RecipeLinks.split(",").map(s=>s.trim()).filter(s=>s):[];return e.jsxs("div",{className:"recipe-detail-container",children:[e.jsxs("div",{className:"recipe-header",children:[e.jsx("h1",{className:"recipe-title",children:i.RecipeName}),e.jsxs("div",{className:"recipe-buttons",children:[e.jsxs("button",{className:"btn",onClick:g,children:[e.jsx(R,{})," Print"]}),e.jsxs("button",{className:"btn",onClick:f,children:[e.jsx(w,{})," Save"]}),e.jsxs("button",{className:"btn",onClick:v,children:[e.jsx(C,{})," Share"]})]})]}),e.jsxs("div",{className:"recipe-detail-grid",children:[e.jsxs("div",{className:"recipe-detail-image",children:[e.jsx("div",{className:"image-container",children:e.jsx("img",{src:i.Images||j,alt:i.RecipeName})}),i.ImagesSource&&e.jsxs("div",{className:"image-source",children:[e.jsx("strong",{children:"Credit:"})," ",e.jsx("a",{href:i.ImagesSource,target:"_blank",rel:"noopener noreferrer",children:i.ImagesSource})]})]}),e.jsx("div",{className:"recipe-detail-content",children:e.jsx("div",{className:"essential-details",children:e.jsxs("div",{className:"essential-details-column",children:[Object.entries({Serves:i.Serves,Course:Array.isArray(i.Course)?i.Course.join(", "):i.Course,Meals:i.Meals,"Total Cook Time":i["Total Cook Time"],"Prep Time":i["Prep Time"],"Cook Time":i["Cook Time"]}).map(([s,r])=>r?e.jsxs("p",{children:[e.jsxs("strong",{children:[s,":"]})," ",r]},s):null),Object.entries({Difficulties:i.Difficulties,Cuisine:i.Cuisine,Occasion:i.Occasion,"Cooking Type":i["Cooking Type"],Drinks:i.Drinks,"Sugar/SugarFree":i["Sugar/SugarFree"]}).map(([s,r])=>r?e.jsxs("p",{children:[e.jsxs("strong",{children:[s,":"]})," ",r]},s):null)]})})})]}),e.jsxs("div",{className:"recipe-links-section",children:[e.jsx("h2",{children:"Recipe Links:"}),d.length>0?e.jsx("ul",{children:d.map((s,r)=>e.jsx("li",{children:e.jsx("button",{className:"recipe-link-button",onClick:()=>x(s),children:s})},r))}):e.jsx("p",{children:"No linked recipes available."})]}),i.VideoLink&&e.jsxs("div",{className:"recipe-video",children:[e.jsx("h2",{children:"Video Tutorial"}),e.jsx("iframe",{width:"100%",height:"315",src:i.VideoLink.replace("watch?v=","embed/"),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})]})};export{L as default};
